<link rel="import" href="../guild-component-panel/guild-component-panel.html">
<link rel="import" href="../guild-util/guild-fullscreen-behavior.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">

<dom-module id="guild-compare-component-panel">
  <template>
    <style>
     paper-icon-button {
         color: var(--disabled-text-color);
     }
    </style>
    <guild-component-panel id="panel" title="[[title]]">
      <div class="actions">
        <paper-icon-button
            icon="[[fullscreenIcon]]"
            on-click="toggleFullscreen">
        </paper-icon-button>
        <paper-icon-button
            icon="close"
            on-click="fireDelete"
            hidden="[[noDelete]]">
        </paper-icon-button>
        <content select=".actions"></content>
      </div>
      <content></content>
    </guild-component-panel>
  </template>
  <script>
   Polymer({
       is: "guild-compare-component-panel",

       behaviors: [Guild.FullscreenBehavior],

       properties: {
           title: String
       },

       attached: function() {
           this.fullscreenContent = this.parentNode;
       },

       onFullscreen: function() {
           this.$.panel.noToggle = true;
           this.noDelete = true;
           this.$.panel.opened = true;
       },

       onFullscreenExit: function() {
           this.$.panel.noToggle = false;
           this.noDelete = false;
       },

       fireDelete: function() {
           this.fire("guild-compare-component-delete");
       }
   });
  </script>
</dom-module>
